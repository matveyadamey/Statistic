
>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–í—ã–±–æ—Ä–∫–∞**
> ‚Äî –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**
> ‚Äî —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏

>[!attention] –í–∞–∂–Ω–æ
>–í –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–≤–æ–¥—ã –æ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ –ø–æ –≤—ã–±–æ—Ä–∫–µ –º–æ–≥—É—Ç –æ—á–µ–Ω—å —Å–∏–ª—å–Ω–æ –æ—Ç–ª–∏—á–∞—Ç—å—Å—è

- –ü—É—Å—Ç—å —É –Ω–∞—Å –µ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å
- –ò–∑ –Ω–µ–µ –º—ã –º–æ–∂–µ–º –≤—ã–¥–µ–ª–∏—Ç—å –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–∫
- –°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ - —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏
- "–∫–∞–∫–∞—è –≤—ã–±–æ—Ä–∫–∞ –≤–µ—Ä–æ—è—Ç–Ω–µ–µ –≤—Å–µ–≥–æ –ø–æ–ª—É—á–∏—Ç—Å—è, –µ—Å–ª–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞—Ç—å –µ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º"

> **–°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–∞–≤–∏–ª–æ, –∫–æ—Ç–æ—Ä–æ–µ –¥–ª—è –∫–∞–∂–¥–æ–π –≤—ã–±–æ—Ä–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –µ–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø—Ä–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º–µ –≤—ã–±–æ—Ä–∞

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
> ‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏.

–¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –ø–µ—Ä–≤–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —ç—Ç–æ **–∞–ª–≥–æ—Ä–∏—Ç–º —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏**, –∞ –≤—Ç–æ—Ä–æ–µ - **—Ä–µ–∑—É–ª—å—Ç–∞—Ç –µ–≥–æ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è**

>[!attention] –í–∞–∂–Ω–æ
>–µ—Å–ª–∏ —Ç—ã –ø—Ä–æ–≤–æ–¥–∏—à—å —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç—ã –º–æ–∂–µ—à—å –ø—Ä–µ–¥—Å–∫–∞–∑–∞—Ç—å, **–Ω–∞—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä–æ—è—Ç–Ω–æ** –ø–æ–ª—É—á–∏—Ç—å —Ç—É –∏–ª–∏ –∏–Ω—É—é –≤—ã–±–æ—Ä–∫—É, –Ω–æ **–Ω–µ –º–æ–∂–µ—à—å —Ç–æ—á–Ω–æ —Å–∫–∞–∑–∞—Ç—å, –∫–∞–∫–∞—è –∏–º–µ–Ω–Ω–æ –æ–∫–∞–∂–µ—Ç—Å—è –≤ —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö**.

–û–¥–Ω–∞–∫–æ –µ—Å—Ç—å –∏ –Ω–µ—Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –∫–æ–≥–¥–∞ –∏—Ç–æ–≥–æ–≤–∞—è –≤—ã–±–æ—Ä–∫–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –æ–¥–Ω–æ–∑–Ω–∞—á–Ω–æ.

## –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è


>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ (—Å–º–µ—â–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞)**
> ‚Äî —Ä–∞–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É  –º–∞—Ç–æ–∂–∏–¥–∞–Ω–∏–µ–º –≤—ã–±–æ—Ä–æ—á–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –∏ —Å—Ä–µ–¥–Ω–∏–º –≤ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏
> > $$ \text{Bias} = \mathbb{E}(\overline{X}) - \mathbb{E}X $$
>> –ï—Å–ª–∏ $\mathbb{E}(\overline{X}) = \mathbb{E}X$, —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –Ω–µ—Ç.

>[!example] **–ü—Ä–∏–º–µ—Ä**
>–ò—Å—Ç–∏–Ω–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–æ—Å—Ç–∞ –ª—é–¥–µ–π ‚Äî –Ω–æ—Ä–º–∞–ª—å–Ω–æ–µ (Œº=175—Å–º), –Ω–æ –º—ã –∏–∑–º–µ—Ä—è–µ–º —Ç–æ–ª—å–∫–æ —Å–ø–æ—Ä—Ç—Å–º–µ–Ω–æ–≤-–±–∞—Å–∫–µ—Ç–±–æ–ª–∏—Å—Ç–æ–≤, —á–µ–π —Å—Ä–µ–¥–Ω–∏–π —Ä–æ—Å—Ç –≤—ã—à–µ. –û—Ü–µ–Ω–∫–∞ —Å—Ä–µ–¥–Ω–µ–≥–æ –±—É–¥–µ—Ç **—Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≤—ã—à–µ–Ω–∞**.

>[!attention] –í–∞–∂–Ω–æ
>**–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ (–Ω–µ—Å–º–µ—â—ë–Ω–Ω–æ—Å—Ç—å)** ‚Äî —ç—Ç–æ —Ö–æ—Ä–æ—à–æ, –Ω–æ **–Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç–∏ –æ—Ü–µ–Ω–∫–∏**, –µ—Å–ª–∏ –ø—Ä–∏ —ç—Ç–æ–º –≤–µ–ª–∏–∫–∞ **—Å–ª—É—á–∞–π–Ω–∞—è –æ—à–∏–±–∫–∞ (–¥–∏—Å–ø–µ—Ä—Å–∏—è)**. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –æ—Ü–µ–Ω–∫–∞ –º–æ–∂–µ—Ç –±—ã—Ç—å ¬´–≤ —Å—Ä–µ–¥–Ω–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π¬ª, –Ω–æ –Ω–∞ –ø—Ä–∞–∫—Ç–∏–∫–µ —Å–∏–ª—å–Ω–æ –≤–∞—Ä—å–∏—Ä–æ–≤–∞—Ç—å—Å—è –æ—Ç –≤—ã–±–æ—Ä–∫–∏ –∫ –≤—ã–±–æ—Ä–∫–µ.

>[!example] **–ü—Ä–∏–º–µ—Ä**
>–í—ã —Ö–æ—Ç–∏—Ç–µ –∫—É–ø–∏—Ç—å –∞—Ä–±—É–∑ –≤–µ—Å–æ–º –æ–∫–æ–ª–æ 5 –∫–≥. –£ –≤–∞—Å –µ—Å—Ç—å –¥–≤–∞ –¥—Ä—É–≥–∞, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–æ–≥–∞—é—Ç –æ—Ü–µ–Ω–∏—Ç—å –≤–µ—Å ‚Äî **–Ω–∞ –≥–ª–∞–∑ –∏–ª–∏ –Ω–∞ —Ä—É—á–Ω—ã—Ö –≤–µ—Å–∞—Ö**.
>- **–ê–Ω–Ω–∞** ‚Äî –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ–±–º–∞–Ω—ã–≤–∞–µ—Ç, –Ω–æ –æ—á–µ–Ω—å –Ω–µ—Ä–æ–≤–Ω–æ –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç –≤–µ—Å:
    >- –í —Å—Ä–µ–¥–Ω–µ–º –æ–Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞ (–Ω–µ –∑–∞–≤—ã—à–∞–µ—Ç –∏ –Ω–µ –∑–∞–Ω–∏–∂–∞–µ—Ç),
    >- –ù–æ –º–æ–∂–µ—Ç —Å–∫–∞–∑–∞—Ç—å ¬´4 –∫–≥¬ª, –∫–æ–≥–¥–∞ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ 6 –∫–≥, –∏–ª–∏ ¬´7 –∫–≥¬ª –ø—Ä–∏ 3 –∫–≥. ‚Üí –ï—ë –æ—Ü–µ–Ω–∫–∏ **–±–µ–∑ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏**, –Ω–æ —Å **–±–æ–ª—å—à–æ–π –¥–∏—Å–ø–µ—Ä—Å–∏–µ–π**.
>- **–ë–æ—Ä–∏—Å** ‚Äî –Ω–µ–º–Ω–æ–≥–æ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–µ–Ω:
    >- –í—Å–µ–≥–¥–∞ –≥–æ–≤–æ—Ä–∏—Ç ¬´–Ω–∞ –ø–∞—Ä—É —Å–æ—Ç–µ–Ω –≥—Ä–∞–º–º –º–µ–Ω—å—à–µ¬ª, —á–µ–º –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ,
    >- –ó–∞—Ç–æ –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ **–ø–æ–ø–∞–¥–∞–µ—Ç –≤ –ø—Ä–µ–¥–µ–ª ¬±100 –≥—Ä–∞–º–º**. ‚Üí –ï–≥–æ –æ—Ü–µ–Ω–∫–∏ **–∏–º–µ—é—Ç –Ω–µ–±–æ–ª—å—à–æ–µ —Å–º–µ—â–µ–Ω–∏–µ**, –Ω–æ **–æ—á–µ–Ω—å –º–∞–ª—É—é –¥–∏—Å–ø–µ—Ä—Å–∏—é**.

–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ Python –º–µ—Ç–æ–¥–æ–º –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ (—Å–º. –¥–∞–ª–µ–µ):
```Python
means = [df.sample(n=10)['value'].mean() for _ in range(10_000)]
bias = np.mean(means) - population_mean
```


>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–ú–∞—Ä–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è (margin of error)**
> ‚Äî –º–µ—Ä–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ –æ—Ü–µ–Ω–∫–∏, —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—Å–∫–æ–ª—å–∫–æ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—Å—è –≤—ã–±–æ—Ä–æ—á–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ –ø–æ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é
> $$P(|\overline{X}-\mathbb{E}X|\leq ME) = p,$$ –≥–¥–µ ME - –º–∞—Ä–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞, p - —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è

>[!example] **–ü—Ä–∏–º–µ—Ä**
>–ú–∞—Ä–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ 3 –ø—Ä–∏ —É—Ä–æ–≤–Ω–µ –¥–æ–≤–µ—Ä–∏—è 95% –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –∏—Å—Ç–∏–Ω–Ω–∞—è –¥–æ–ª—è –≤ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 95% –ª–µ–∂–∏—Ç –º–µ–∂–¥—É $\mu -3$ –∏ $\mu+3$

–í—ã—á–∏—Å–ª–µ–Ω–∏–µ –≤ Python –º–µ—Ç–æ–¥–æ–º –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ:
```Python
mc_means = np.array([df.sample(100)['spend'].mean() for _ in range(5000)])
me_95 = np.percentile(np.abs(mc_means - true_mean), 95)
print(f"Margin of error (95%): {me_95:.2f}")
```

**–í–∏–¥—ã —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫**
- **–°–û –≤—ã–∂–∏–≤—à–µ–≥–æ** - –≤ –≤—ã–±–æ—Ä–∫–µ –æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –º–Ω–æ–≥–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –∏–∑ –æ–¥–Ω–æ–π –≥—Ä—É–ø–ø—ã –æ–±—ä–µ–∫—Ç–æ–≤, –∫–æ—Ç–æ—Ä—É—é —É—Å–ª–æ–≤–Ω–æ –Ω–∞–∑—ã–≤–∞—é—Ç ¬´–≤—ã–∂–∏–≤—à–∏–µ¬ª
- **–ß–µ—Ä—Ä–∏-–ø–∏–∫–∏–Ω–≥** - –≤ –≤—ã–±–æ—Ä–∫—É –≤–∑—è—Ç—ã —Ç–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–∫–∞–∑—ã–≤–∞—é—Ç –≤—ã–≤–æ–¥—ã –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è, –∑–∞—Ç–æ –ø—Ä–æ–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω—ã —Ç–µ, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø—Ä–æ–≤–µ—Ä–≥–∞—é—Ç
- **–°–û —Å–∞–º–æ–æ—Ç–±–æ—Ä–∞** - –≤ –≤—ã–±–æ—Ä–∫—É –≤–∑—è–ª–∏ —Ç–µ—Ö, –∫—Ç–æ —Å–∞–º –ø–æ–∂–µ–ª–∞–ª –≤–æ–π—Ç–∏ –≤ –Ω–µ—ë
- **–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ–≥–æ –æ—Ö–≤–∞—Ç–∞ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —á–∞—Å—Ç–µ–π –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ (undercoverage bias)** - –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–µ–≥–º–µ–Ω—Ç—ã –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ –≤ –≤—ã–±–æ—Ä–∫–µ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –∏–ª–∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω—ã –≤ –º–µ–Ω—å—à–µ–π –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏, —á–µ–º –≤ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏. –ï—Å–ª–∏ —É —Ç–∞–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤ –∫–∞–∫–∞—è-—Ç–æ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –≤—ã—à–µ, —á–µ–º —É –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–Ω—ã—Ö, —Ç–æ –≤—ã–±–æ—Ä–æ—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –±—É–¥–µ—Ç —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∏–∂–µ, —á–µ–º –≤ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏.

## –í–∏–¥—ã —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è
- –ø—Ä–æ—Å—Ç–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ
- —Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º
- —Å—Ç—Ä–∞—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

##### –ü—Ä–æ—Å—Ç–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–ü—Ä–æ—Å—Ç–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (SRS)**
> ‚Äî —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –≤—ã–±–æ—Ä–∫–∏ –∏–∑ n –Ω–∞–±–ª—é–¥–µ–Ω–∏–π —Å —É—á–µ—Ç–æ–º –ø–æ—Ä—è–¥–∫–∞ –∏ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–π —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã

–£—á–µ—Ç –ø–æ—Ä—è–¥–∫–∞ –Ω—É–∂–µ–Ω, —á—Ç–æ–±—ã –±—ã—Ç—å —É–≤–µ—Ä–µ–Ω–Ω—ã–º –≤ —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –≤—ã–±–æ—Ä–∫–∏, –æ–Ω –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —ç—Ç–∞–ø–µ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤—ã–±–æ—Ä–æ–∫.

>[!def] **–ê–ª–≥–æ—Ä–∏—Ç–º**
>>[!Quote]   **–ü–æ–ª—É—á–µ–Ω–∏–µ SRS**
>> 1. –ü–æ –∏—Å—Ö–æ–¥–Ω–æ–π –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–æ–∏–º –≥–µ–Ω–µ—Ä–∞–ª—å–Ω—É—é —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–∫ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∏–∑ n –Ω–∞–±–ª—é–¥–µ–Ω–∏–π —Å —É—á—ë—Ç–æ–º –ø–æ—Ä—è–¥–∫–∞
>> 2. –ò–∑ —ç—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω–æ –≤—ã–±–∏—Ä–∞–µ–º –æ–¥–Ω—É –≤—ã–±–æ—Ä–∫—É

–í Python:
```Python
df.sample(n)
```
##### –°–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–°–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º (RS)**
> ‚Äî —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –≤—ã–±–æ—Ä–∫–∏ –∏–∑ n –Ω–∞–±–ª—é–¥–µ–Ω–∏–π —Å —É—á–µ—Ç–æ–º –ø–æ—Ä—è–¥–∫–∞ –∏ –≤–æ–∑–º–æ–∂–Ω—ã–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã
- –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π

–í Python:
```Python
df.sample(n, replace=True)
```


>[!seealso] **–õ–µ–º–º–∞**
>>[!Quote]   **–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º –∏ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ª—É—á–∞–π–Ω–æ–≥–æ**
>> –ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –Ω–∞–º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä–∞ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ (—ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏ - –µ—Å–ª–∏ n < 0,01 ¬∑ N), —Ç–æ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º –∏ –ø—Ä–æ—Å—Ç–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã

>[!summary] –û–±—ä—è—Å–Ω–µ–Ω–∏–µ
>–ü—É—Å—Ç—å –º—ã –≤—ã–±–∏—Ä–∞–µ–º –±–µ–∑ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏—è –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç –∑–∞ –¥—Ä—É–≥–∏–º –∏–∑ –æ–≥—Ä–æ–º–Ω–æ–π –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏. –§–æ—Ä–º–∞–ª—å–Ω–æ –≤ –Ω–µ–π —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –º–µ–Ω—å—à–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –Ω–æ –∏–∑-–∑–∞ –±–æ–ª—å—à–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏—Ö –æ—Å—Ç–∞—ë—Ç—Å—è –≤—Å—ë –µ—â—ë –º–Ω–æ–≥–æ: –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–∞—è —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –ø–æ—á—Ç–∏ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è. –ü–æ—ç—Ç–æ–º—É –Ω–µ—Ç —Å—É—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–π —Ä–∞–∑–Ω–∏—Ü—ã: –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏–ª–∏ –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –æ—á–µ—Ä–µ–¥–Ω–æ–π —ç–ª–µ–º–µ–Ω—Ç –≤—ã–±–æ—Ä–∫–∏ –≤ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω—É—é —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å.


##### –°–ª—É—á–∞–π–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞ —Å–æ —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–°—Ç—Ä–∞—Ç–∞**
> ‚Äî –∫–æ–Ω–µ—á–Ω–æ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –æ–¥–Ω–æ–º—É –∏–∑ —É—Ä–æ–≤–Ω–µ–π —Ñ–∞–∫—Ç–æ—Ä–∞ —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–°—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**
> ‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ –≤ –≤–∏–¥–µ –¥–∏–∑—ä—é–Ω–∫—Ç–Ω–æ–≥–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–§–∞–∫—Ç–æ—Ä —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**
> ‚Äî —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π, –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞—Ç—ã.

>[!hint] **–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è**
>**–°—Ç—Ä–∞—Ç–∞** ‚Äî —ç—Ç–æ **–æ–¥–Ω–æ—Ä–æ–¥–Ω–∞—è –ø–æ–¥–≥—Ä—É–ø–ø–∞ (—Å–ª–æ–π) –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏**, –≤—ã–¥–µ–ª–µ–Ω–Ω–∞—è –ø–æ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–º—É –ø—Ä–∏–∑–Ω–∞–∫—É, –∫–æ—Ç–æ—Ä—ã–π —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–Ω–∞—á–∏–º—ã–º –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ?
1. **–£–º–µ–Ω—å—à–∏—Ç—å –¥–∏—Å–ø–µ—Ä—Å–∏—é –æ—Ü–µ–Ω–æ–∫** (–≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–∞—Ç—ã –æ–±—ä–µ–∫—Ç—ã –æ–¥–Ω–æ—Ä–æ–¥–Ω–µ–µ),
2. **–û–±–µ—Å–ø–µ—á–∏—Ç—å –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (–≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –∫–∞–∂–¥—ã–π —Ç–∏–ø —É—á—Ç—ë–Ω),
3. **–ü–æ–∑–≤–æ–ª–∏—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ –≥—Ä—É–ø–ø–∞–º** (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ä–∞–≤–Ω–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å –ø–æ –∫–ª–∞—Å—Å–∞–º —Ç–µ—Ö–Ω–∏–∫–∏).

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–°–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π (stratified random sampling)**
> ‚Äî —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã –≤—Å–µ –≤—ã–±–æ—Ä–∫–∏ –∏–∑ n –Ω–∞–±–ª—é–¥–µ–Ω–∏–π —Å —É—á—ë—Ç–æ–º –ø–æ—Ä—è–¥–∫–∞ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç—ã –≤ –≤—ã–±–æ—Ä–∫–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥–æ–ª–µ–π —ç—Ç–æ–π —Å—Ç—Ä–∞—Ç—ã –≤ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ (—Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è)

>[!def] **–ê–ª–≥–æ—Ä–∏—Ç–º**
>>[!Quote]   **–ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏**
>>1. –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç—ã –≤—ã—á–∏—Å–ª—è–µ–º —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–∞—Ç—ã –≤ –≤—ã–±–æ—Ä–∫–µ $n_i=n \cdot P(Stratum_i)$
>>2. –ò–∑ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç—ã –ø–æ–ª—É—á–∞–µ–º –ø–æ–¥–≤—ã–±–æ—Ä–∫—É –Ω—É–∂–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–æ—Å—Ç—ã–º —Å–ª—É—á–∞–π–Ω—ã–º —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º. 
>>3. –û–±—ä–µ–¥–∏–Ω—è–µ–º –ø–æ–¥–≤—ã–±–æ—Ä–∫–∏ –≤ –≤—ã–±–æ—Ä–∫—É.

–í Python:
```Python
def stratified_sample(df, strata_col, n):
    # –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è: —Å–∫–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫ –±—Ä–∞—Ç—å –∏–∑ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç—ã
    def sample_group(x):
        # –î–æ–ª—è —Å—Ç—Ä–∞—Ç—ã –≤ –æ–±—â–µ–º –æ–±—ä—ë–º–µ
        group_size = len(x)
        # –ü—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–∞—Ç—ã
        sample_size = int(round(group_size / len(df) * n))
        # –ë–µ—Ä—ë–º –º–∏–Ω–∏–º—É–º, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø—Ä–æ–±–ª–µ–º —Å –º–∞–ª—ã–º–∏ –≥—Ä—É–ø–ø–∞–º–∏
        return x.sample(min(sample_size, group_size))

    result = df.groupby(strata_col).apply(sample_group)
    return result.reset_index(drop=True)
```


>[!attention] –í–∞–∂–Ω–æ
>- –ï—Å–ª–∏ $n_i$ —Ü–µ–ª—ã–µ, —Ç–æ –°–û –Ω–µ—Ç, –æ–¥–Ω–∞–∫–æ –µ—Å–ª–∏ –æ–Ω–∏ –¥—Ä–æ–±–Ω—ã–µ, —Ç–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è –æ–∫—Ä—É–≥–ª—è—Ç—å –¥–æ —Ü–µ–ª—ã—Ö.
>- –ï—Å–ª–∏ –æ–∫—Ä—É–≥–ª—è—Ç—å –≤–Ω–∏–∑, —Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –±—É–¥–µ—Ç –º–µ–Ω—å—à–µ —Ç—Ä–µ–±—É–µ–º–æ–≥–æ, –µ—Å–ª–∏ –≤–≤–µ—Ä—Ö, —Ç–æ –±–æ–ª—å—à–µ
>- –¢–∞–∫ –∏–ª–∏ –∏–Ω–∞—á–µ –ø–æ—è–≤–∏—Ç—Å—è –Ω–µ–∫–æ—Ç–æ—Ä–∞—è –°–û, –æ–¥–Ω–∞–∫–æ –º–∞—Ä–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ –≤—Å–µ —Ä–∞–≤–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—Å—è –ø–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—é —Å SRS


>C—Ç—Ä–∞—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–º–µ—Ç–Ω–æ —Ç–æ—á–Ω–µ–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ª—É—á–∞–π–Ω–æ–≥–æ, –µ—Å–ª–∏ —Ä–∞–∑–±—Ä–æ—Å –∑–Ω–∞—á–µ–Ω–∏–π –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–∞—Ç –∑–∞–º–µ—Ç–Ω–æ –º–µ–Ω—å—à–µ —Ä–∞–∑–±—Ä–æ—Å–∞ —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π –≤ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏

## –ú–µ—Ç–æ–¥ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ**
>> 1. —Å–ª—É—á–∞–π–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–¥–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º
>> 2. –ø—Ä–æ–≤–µ—Ä–∫–∞, —Å–ª—É—á–∏–ª–æ—Å—å –ª–∏ –≤ –≤—ã–±–æ—Ä–∫–µ —Å–æ–±—ã—Ç–∏–µ –∏–ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
>> 3. —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–ª—è —ç—Ç–æ–π –≤—ã–±–æ—Ä–∫–∏.

>[!def] **–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ**
>>[!Quote]   **–ú–µ—Ç–æ–¥ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ**
> ‚Äî —ç—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ M —Å–ª—É—á–∞–π–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ –∏ –¥–∞–ª—å–Ω–µ–π—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–í Python c SRS:
```Python
np.random.seed(42)
M = 10_000
count = 0
for _ in range(M):
	df_sample = df.sample(n=2) # SRS
	if df_sample['–†–æ—Å—Ç'].mean().astype(int) == 170: # —Å–æ–±—ã—Ç–∏–µ —Å–ª—É—á–∏–ª–æ—Å—å
		count = count + 1 # —Å—á–∏—Ç–∞–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ 
print(count ‚àï M)
```

>[!hint] **–¶–µ–ª—å –º–µ—Ç–æ–¥–∞ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ**
>–ê–ø–ø—Ä–æ–∫—Å–∏–º–∏—Ä–æ–≤–∞—Ç—å —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏–µ –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–∏ –∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é —á–∞—Å—Ç–æ—Ç—ã –Ω–∞ –±–æ–ª—å—à–æ–º —á–∏—Å–ª–µ —Å–∏–º—É–ª—è—Ü–∏–π.

>[!seealso] **–õ–µ–º–º–∞**
>>[!Quote]   **–¢–æ—á–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–∞ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ**
>**–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ**: –µ—Å–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –≤ 100 —Ä–∞–∑ —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –∏ –æ–Ω–∞ –≤—Å—ë –µ—â—ë –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –º–∞–ª–µ–Ω—å–∫–æ–π (10n < 0,01 ¬∑ N), —Ç–æ —Ç–æ—á–Ω–æ—Å—Ç—å –≤–æ–∑—Ä–∞—Å—Ç—ë—Ç –≤ 10 —Ä–∞–∑, –Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –≤—ã–±–æ—Ä–æ–∫ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –≤ k —Ä–∞–∑ –ø–æ–≤—ã—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –±–æ–ª—å—à–µ —á–µ–º –≤ ‚àö k —Ä–∞–∑.



## Flashcards
tags: #flashcardsSTAT


–ß—Ç–æ —Ç–∞–∫–æ–µ –í—ã–±–æ—Ä–∫–∞?
%
‚Äî –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏

–ß—Ç–æ —Ç–∞–∫–æ–µ –°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ?
%
‚Äî —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏—è –≤—ã–±–æ—Ä–∫–∏

–ß—Ç–æ —Ç–∞–∫–æ–µ –°–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∫ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ?
%
‚Äî –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–Ω–æ–µ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–∫ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –∏–∑ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏.

### –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è

–ß—Ç–æ —Ç–∞–∫–æ–µ –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è —Å—Ä–µ–¥–Ω–µ–≥–æ (—Å–º–µ—â–µ–Ω–Ω–∞—è –æ—Ü–µ–Ω–∫–∞)?
%
‚Äî —Ä–∞–∑–Ω–æ—Å—Ç—å –º–µ–∂–¥—É  –º–∞—Ç–æ–∂–∏–¥–∞–Ω–∏–µ–º –≤—ã–±–æ—Ä–æ—á–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –∏ —Å—Ä–µ–¥–Ω–∏–º –≤ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏
> $$ \text{Bias} = \mathbb{E}(\overline{X}) - \mathbb{E}X $$
–ï—Å–ª–∏ $\mathbb{E}(\overline{X}) = \mathbb{E}X$, —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –Ω–µ—Ç.

–ß—Ç–æ —Ç–∞–∫–æ–µ –ú–∞—Ä–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è (margin of error)?
%
‚Äî –º–µ—Ä–∞ —Ç–æ—á–Ω–æ—Å—Ç–∏ –æ—Ü–µ–Ω–∫–∏, —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞—Å–∫–æ–ª—å–∫–æ –º–æ–∂–µ—Ç –æ—Ç–ª–∏—á–∞—Ç—Å—è –≤—ã–±–æ—Ä–æ—á–Ω–æ–µ —Å—Ä–µ–¥–Ω–µ–µ –æ—Ç —Å—Ä–µ–¥–Ω–µ–≥–æ –ø–æ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ —Å –∑–∞–¥–∞–Ω–Ω–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é
$$P(|\overline{X}-\mathbb{E}X|\leq ME) = p,$$ –≥–¥–µ ME - –º–∞—Ä–≥–∏–Ω–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞, p - —É—Ä–æ–≤–µ–Ω—å –¥–æ–≤–µ—Ä–∏—è

### –í–∏–¥—ã —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è

–ß—Ç–æ —Ç–∞–∫–æ–µ –ü—Ä–æ—Å—Ç–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ (SRS)?
%
‚Äî —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –≤—ã–±–æ—Ä–∫–∏ –∏–∑ n –Ω–∞–±–ª—é–¥–µ–Ω–∏–π —Å —É—á–µ—Ç–æ–º –ø–æ—Ä—è–¥–∫–∞ –∏ –±–µ–∑ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–π —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã

–ß—Ç–æ —Ç–∞–∫–æ–µ –ü–æ–ª—É—á–µ–Ω–∏–µ SRS?
%
1. –ü–æ –∏—Å—Ö–æ–¥–Ω–æ–π –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ —Å—Ç—Ä–æ–∏–º –≥–µ–Ω–µ—Ä–∞–ª—å–Ω—É—é —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –≤—ã–±–æ—Ä–æ–∫ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è –∏–∑ n –Ω–∞–±–ª—é–¥–µ–Ω–∏–π —Å —É—á—ë—Ç–æ–º –ø–æ—Ä—è–¥–∫–∞
2. –ò–∑ —ç—Ç–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω–æ –≤—ã–±–∏—Ä–∞–µ–º –æ–¥–Ω—É –≤—ã–±–æ—Ä–∫—É

–ß—Ç–æ —Ç–∞–∫–æ–µ –°–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º (RS)?
%
‚Äî —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –≤—Å–µ –≤—ã–±–æ—Ä–∫–∏ –∏–∑ n –Ω–∞–±–ª—é–¥–µ–Ω–∏–π —Å —É—á–µ—Ç–æ–º –ø–æ—Ä—è–¥–∫–∞ –∏ –≤–æ–∑–º–æ–∂–Ω—ã–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–µ–º —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã
- –∞–ª–≥–æ—Ä–∏—Ç–º –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –∞–Ω–∞–ª–æ–≥–∏—á–Ω—ã–π

–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –ª–µ–º–º—É: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º –∏ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–ª—É—á–∞–π–Ω–æ–≥–æ
%
–ï—Å–ª–∏ —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –Ω–∞–º–Ω–æ–≥–æ –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä–∞ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ (—ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∏ - –µ—Å–ª–∏ n < 0,01 ¬∑ N), —Ç–æ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º –∏ –ø—Ä–æ—Å—Ç–æ–µ —Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–±–ª–∏–∑–∏—Ç–µ–ª—å–Ω–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã

–ß—Ç–æ —Ç–∞–∫–æ–µ –°—Ç—Ä–∞—Ç–∞?
%
‚Äî –∫–æ–Ω–µ—á–Ω–æ–µ –ø–æ–¥–º–Ω–æ–∂–µ—Å—Ç–≤–æ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ –æ–¥–Ω–æ–º—É –∏–∑ —É—Ä–æ–≤–Ω–µ–π —Ñ–∞–∫—Ç–æ—Ä–∞ —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ß—Ç–æ —Ç–∞–∫–æ–µ –°—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è?
%
‚Äî –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ –≤ –≤–∏–¥–µ –¥–∏–∑—ä—é–Ω–∫—Ç–Ω–æ–≥–æ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏—è —Å—Ç—Ä–∞—Ç

–ß—Ç–æ —Ç–∞–∫–æ–µ –§–∞–∫—Ç–æ—Ä —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏?
%
‚Äî —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π, –ø–æ –∑–Ω–∞—á–µ–Ω–∏—è–º –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞—Ç—ã.

–ß—Ç–æ —Ç–∞–∫–æ–µ –°–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏–µ–π (stratified random sampling)?
%
‚Äî —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–≤–Ω–æ–≤–µ—Ä–æ—è—Ç–Ω—ã –≤—Å–µ –≤—ã–±–æ—Ä–∫–∏ –∏–∑ n –Ω–∞–±–ª—é–¥–µ–Ω–∏–π —Å —É—á—ë—Ç–æ–º –ø–æ—Ä—è–¥–∫–∞ –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –¥–æ–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç—ã –≤ –≤—ã–±–æ—Ä–∫–µ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –¥–æ–ª–µ–π —ç—Ç–æ–π —Å—Ç—Ä–∞—Ç—ã –≤ –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏ (—Å —Ç–æ—á–Ω–æ—Å—Ç—å—é –¥–æ –æ–∫—Ä—É–≥–ª–µ–Ω–∏—è)

–ß—Ç–æ —Ç–∞–∫–æ–µ –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç—Ä–∞—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏?
%
1. –î–ª—è –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç—ã –≤—ã—á–∏—Å–ª—è–µ–º —Ç—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–π –∏–∑ —ç—Ç–æ–π —Å—Ç—Ä–∞—Ç—ã –≤ –≤—ã–±–æ—Ä–∫–µ $n_i=n \cdot P(Stratum_i)$
2. –ò–∑ –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç—ã –ø–æ–ª—É—á–∞–µ–º –ø–æ–¥–≤—ã–±–æ—Ä–∫—É –Ω—É–∂–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–æ—Å—Ç—ã–º —Å–ª—É—á–∞–π–Ω—ã–º —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º.
3. –û–±—ä–µ–¥–∏–Ω—è–µ–º –ø–æ–¥–≤—ã–±–æ—Ä–∫–∏ –≤ –≤—ã–±–æ—Ä–∫—É.

### –ú–µ—Ç–æ–¥ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ

–ß—Ç–æ —Ç–∞–∫–æ–µ –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ?
%
1. —Å–ª—É—á–∞–π–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –æ–¥–Ω–æ–π –≤—ã–±–æ—Ä–∫–∏ –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º
2. –ø—Ä–æ–≤–µ—Ä–∫–∞, —Å–ª—É—á–∏–ª–æ—Å—å –ª–∏ –≤ –≤—ã–±–æ—Ä–∫–µ —Å–æ–±—ã—Ç–∏–µ –∏–ª–∏ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
3. —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –¥–ª—è —ç—Ç–æ–π –≤—ã–±–æ—Ä–∫–∏.

–ß—Ç–æ —Ç–∞–∫–æ–µ –ú–µ—Ç–æ–¥ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ?
%
‚Äî —ç—Ç–æ –ø—Ä–æ–≤–µ–¥–µ–Ω–∏–µ M —Å–ª—É—á–∞–π–Ω—ã—Ö —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–æ–≤ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ –∏ –¥–∞–ª—å–Ω–µ–π—à–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

–°—Ñ–æ—Ä–º—É–ª–∏—Ä—É–π—Ç–µ –ª–µ–º–º—É: –¢–æ—á–Ω–æ—Å—Ç—å –º–µ—Ç–æ–¥–∞ –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ
%
**–≠–º–ø–∏—Ä–∏—á–µ—Å–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ**: –µ—Å–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –≤ 100 —Ä–∞–∑ —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –∏ –æ–Ω–∞ –≤—Å—ë –µ—â—ë –æ—Å—Ç–∞–Ω–µ—Ç—Å—è –º–∞–ª–µ–Ω—å–∫–æ–π (10n < 0,01 ¬∑ N), —Ç–æ —Ç–æ—á–Ω–æ—Å—Ç—å –≤–æ–∑—Ä–∞—Å—Ç—ë—Ç –≤ 10 —Ä–∞–∑, –Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö –≤—ã–±–æ—Ä–æ–∫ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –≤ k —Ä–∞–∑ –ø–æ–≤—ã—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –±–æ–ª—å—à–µ —á–µ–º –≤ ‚àö k —Ä–∞–∑.

–ß—Ç–æ —Ç–∞–∫–æ–µ –Ω–µ—Å–ª—É—á–∞–π–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ?
%
‚Äî —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –æ–¥–Ω–∞ –≤—ã–±–æ—Ä–∫–∞ –∏–º–µ–µ—Ç –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å 100%, –≤—Å–µ –æ—Å—Ç–∞–ª—å–Ω—ã–µ ‚Äî 0%.

–ü–æ—á–µ–º—É undercoverage bias –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –≤—ã–±–æ—Ä–∫–∏?
%
‚Äî –ø–æ—Ç–æ–º—É —á—Ç–æ –æ–Ω –≤—ã–∑–≤–∞–Ω **–æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ–º –∏–ª–∏ –Ω–µ–¥–æ—É—á—ë—Ç–æ–º —Ü–µ–ª—ã—Ö —Å–µ–≥–º–µ–Ω—Ç–æ–≤** –≥–µ–Ω–µ—Ä–∞–ª—å–Ω–æ–π —Å–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç–∏. –î–∞–∂–µ –æ–≥—Ä–æ–º–Ω–∞—è –≤—ã–±–æ—Ä–∫–∞ –±—É–¥–µ—Ç —Å–º–µ—â—ë–Ω–Ω–æ–π, –µ—Å–ª–∏ –æ–Ω–∞ –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –≤–∞–∂–Ω—É—é –≥—Ä—É–ø–ø—É.

–ö–∞–∫ –≤–ª–∏—è–µ—Ç —Ä–∞–∑–º–µ—Ä –≤—ã–±–æ—Ä–∫–∏ –Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ?
%
‚Äî —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ —Å–∏–º—É–ª—è—Ü–∏–π M –ø–æ–≤—ã—à–∞–µ—Ç —Ç–æ—á–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–∫–∏ ~ –Ω–∞ ‚àöM. –ß—Ç–æ–±—ã –æ—à–∏–±–∫–∞ —É–º–µ–Ω—å—à–∏–ª–∞—Å—å –≤ 10 —Ä–∞–∑, –Ω—É–∂–Ω–æ —É–≤–µ–ª–∏—á–∏—Ç—å M –≤ 100 —Ä–∞–∑.



–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Å—Ç—É—é —Å–ª—É—á–∞–π–Ω—É—é –≤—ã–±–æ—Ä–∫—É (SRS) –≤ pandas?  
%  
```python
df.sample(n=100)
```
> üîπ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é `replace=False` –∏ `random_state` –Ω–µ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω.  
> ‚úÖ –î–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º–æ—Å—Ç–∏ –¥–æ–±–∞–≤—å—Ç–µ `random_state`:  
```python
df.sample(n=100, random_state=42)
```


 –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω—É—é –≤—ã–±–æ—Ä–∫—É —Å –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ–º (RS)?  
%  
```python
df.sample(n=100, replace=True, random_state=42)
```
> üîπ `replace=True` –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–¥–Ω–æ–º—É –Ω–∞–±–ª—é–¥–µ–Ω–∏—é –ø–æ–ø–∞—Å—Ç—å –≤ –≤—ã–±–æ—Ä–∫—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑.  


–ö–∞–∫ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Å—Ç–æ–ª–±—Ü—É `strata_col`?  
%  
```python
def stratified_sample(df, strata_col, n_total):
    return (
        df.groupby(strata_col)
          .sample(frac=n_total/len(df), replace=False)
          .sample(frac=1, random_state=42)  # –ø–µ—Ä–µ–º–µ—à–∞—Ç—å –≤ –∫–æ–Ω—Ü–µ
    )
```
> üîπ `frac=n_total/len(df)` ‚Äî –¥–æ–ª—è –æ—Ç –∫–∞–∂–¥–æ–π —Å—Ç—Ä–∞—Ç—ã.
> üîπ –í—Ç–æ—Ä–æ–π `.sample(frac=1)` ‚Äî –ø–µ—Ä–µ–º–µ—à–∏–≤–∞–µ—Ç –æ–±—ä–µ–¥–∏–Ω—ë–Ω–Ω—É—é –≤—ã–±–æ—Ä–∫—É.
> ‚ö†Ô∏è –ü—Ä–∏ –æ–∫—Ä—É–≥–ª–µ–Ω–∏–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–±–æ–ª—å—à–∞—è –æ—à–∏–±–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è.

–ö–∞–∫ –ø—Ä–æ–≤–µ—Å—Ç–∏ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ —Å—Ä–µ–¥–Ω–µ–≥–æ?  
%  
```python
np.random.seed(42)
M = 10_000
mc_means = []

for _ in range(M):
    sample = df.sample(n=200)
    mc_means.append(sample['value'].mean())

# –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ mc_means
```
> ‚úÖ –¶–µ–ª—å: –æ—Ü–µ–Ω–∏—Ç—å –ø–æ–≤–µ–¥–µ–Ω–∏–µ –≤—ã–±–æ—Ä–æ—á–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ –ø—Ä–∏ –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ–º –ø–æ–≤—Ç–æ—Ä–µ–Ω–∏–∏ –≤—ã–±–æ—Ä–∫–∏.


–ö–∞–∫ –≤—ã—á–∏—Å–ª–∏—Ç—å –º–∞—Ä–≥–∏–Ω–∞–ª—å–Ω—É—é –æ—à–∏–±–∫—É (margin of error) –º–µ—Ç–æ–¥–æ–º –ú–æ–Ω—Ç–µ-–ö–∞—Ä–ª–æ?  
%  
```python
true_mean = df['value'].mean()  # –∏–ª–∏ –∏–∑–≤–µ—Å—Ç–Ω–æ –∏–∑ —É—Å–ª–æ–≤–∏—è
errors = np.abs(np.array(mc_means) - true_mean)
me_90 = np.percentile(errors, 90)  # ME —Å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å—é 90%
print(f"Margin of error (90%): {me_90:.2f}")
```
> üìå –≠—Ç–æ —ç–º–ø–∏—Ä–∏—á–µ—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞:  
> $P(|\overline{X} - \mathbb{E}X| \leq ME) = 0.9$


–ö–∞–∫ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ —É —Å–µ–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏—è?  
%  
```python
bias = np.mean(mc_means) - true_mean
print(f"Bias: {bias:.3f}")
```
> ‚úÖ –ï—Å–ª–∏ `bias ‚âà 0` ‚Äî —Å–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ—à–∏–±–∫–∏ –Ω–µ—Ç.  
> üîπ –ü–æ–ª–µ–∑–Ω–æ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤ (SRS, RS, —Å—Ç—Ä–∞—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è).

 
 –ö–∞–∫ –Ω–∞–ø–∏—Å–∞—Ç—å —Å—Ç—Ä–∞—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤—ã–±–æ—Ä–∫—É —Å –∫–æ–Ω—Ç—Ä–æ–ª–µ–º —Ä–∞–∑–º–µ—Ä–∞ –ø–æ–¥–≤—ã–±–æ—Ä–∫–∏?
%  
```python
def stratified_sample_exact(df, strata_col, n_total):
    props = df[strata_col].value_counts(normalize=True)
    n_strata = (props * n_total).round().astype(int)
    
    # –ö–æ—Ä—Ä–µ–∫—Ç–∏—Ä–æ–≤–∫–∞ —Å—É–º–º—ã
    while n_strata.sum() != n_total:
        diff = n_total - n_strata.sum()
        idx = np.random.choice(n_strata.index)
        n_strata[idx] += np.sign(diff)
    
    return df.groupby(strata_col, group_keys=False).apply(
        lambda x: x.sample(n=n_strata[x.name], random_state=42)
    )
```
